# ------------------------------------------------------------------
# Go2 MuJoCo Simulation Config — go2_sim_v1.1.yaml
# Environment: Unitree Python SDK / MuJoCo
# ------------------------------------------------------------------
# Author: Bhuvan Lakhera
# Created: Dec 2025
# ------------------------------------------------------------------

# ------------------------------------------------------------------
# ASSETS (resolved via path_utils.py)
# ------------------------------------------------------------------
policy: "policy_v1.pt"
mujoco_version: "v1"
scene: "scene.xml"

# ------------------------------------------------------------------
# SIMULATION PARAMETERS
# ------------------------------------------------------------------
simulation_duration: 600.0      # seconds
simulation_dt: 0.002            # 2 ms timestep
control_decimation: 10          # control rate = 50 Hz

# ------------------------------------------------------------------
# PD CONTROL GAINS
# ------------------------------------------------------------------
# High stiffness for positional tracking
# Lower damping on rear legs to avoid over-constraining swing
kps: [
  60.0, 60.0, 60.0,
  60.0, 60.0, 60.0,
  50.0, 50.0, 50.0,
  50.0, 50.0, 50.0
]

kds: [
  5.0, 5.0, 5.0,
  5.0, 5.0, 5.0,
  1.0, 1.0, 1.0,
  1.0, 1.0, 1.0
]

# ------------------------------------------------------------------
# STANDING POSTURE (Go2 XML–calibrated)
# ------------------------------------------------------------------
# Joint order: [hip, thigh, calf] × [FL, FR, RL, RR]
# Rear thighs raised to compensate XML kinematic offset
default_angles: [
  0.0, 0.80, -1.50,
  0.0, 0.80, -1.50,
  0.0, 1.00, -1.50,
  0.0, 1.00, -1.50
]

# ------------------------------------------------------------------
# POLICY / OBSERVATION SCALING
# ------------------------------------------------------------------
# Must exactly match training normalization
lin_vel_scale: 2.0
ang_vel_scale: 0.25
dof_pos_scale: 1.0
dof_vel_scale: 0.05
action_scale: 0.25
cmd_scale: [2.0, 2.0, 0.25]

# ------------------------------------------------------------------
# POLICY SHAPE
# ------------------------------------------------------------------
num_actions: 12
num_obs: 48

# ------------------------------------------------------------------
# INITIAL COMMAND
# ------------------------------------------------------------------
cmd_init: [1.0, 0.0, 0.0]   # vx, vy, yaw_rate
